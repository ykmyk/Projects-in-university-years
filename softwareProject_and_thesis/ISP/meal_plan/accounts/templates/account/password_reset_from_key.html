{% extends 'base.html' %}
{% load django_bootstrap5 %}

{% block title %}Password reset | Meal Plan{% endblock %}

{% block contents %}
<div class="container d-flex justify-content-center">
    <div class="row col-12 col-md-5">
        <div class="my-div-style">
            <h1 class="text-center mb-4">{% if token_fail %}Invalid token{% else %}Password reset{% endif %}</h1>

            {% if token_fail %}
            {% url 'account_reset_password' as passwd_reset_url %}
            <p>This link for resetting password is already invalid. 
                <a href="{{ passwd_reset_url }}">
                    Request again to reset a password
                </a>
            </p>
            {% else %}
            {% if form %}
            <form method="POST" action="{{ action_url }}">
                {% csrf_token %}

                {% bootstrap_form form %}

                <button class="btn btn-primary w-100 mt-4" type="submit">Change</button>
            </form>
            {% else %}
            <p>Password has already been changed.</p>
            {% endif %}
            {% endif %}

        </div>
    </div>
</div>
{% endblock %}